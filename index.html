<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live From the Mothership - Artist Registration</title>
    <meta name="description" content="Register for the ultimate music competition - Live From the Mothership. Hosted by DJ Funky & DJ Big X at Stankonia Studios.">
    <meta name="keywords" content="music competition, artist registration, live music, Atlanta, Stankonia Studios">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" />
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="src/styles/main.css">
    
    <!-- External Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <!-- Configuration Script - Loads from environment -->
    <script>
        // Configuration loaded from environment variables
        window.APP_CONFIG = {
            supabaseUrl: '{{NEXT_PUBLIC_SUPABASE_URL}}',
            supabaseKey: '{{NEXT_PUBLIC_SUPABASE_ANON_KEY}}',
            appName: '{{NEXT_PUBLIC_APP_NAME}}',
            appUrl: '{{NEXT_PUBLIC_APP_URL}}'
        };
        
        // Validate configuration on load
        if (!window.APP_CONFIG.supabaseUrl || !window.APP_CONFIG.supabaseKey) {
            console.error('‚ùå Missing required configuration. Please check environment variables.');
        } else {
            console.log('‚úÖ Application configuration loaded successfully');
        }
    </script>
</head>
<body>
    <!-- Security Notice (Development Only) -->
    <noscript>
        <div style="background: #fee; border: 1px solid #fcc; padding: 1rem; margin: 1rem; border-radius: 4px;">
            <strong>JavaScript Required:</strong> This application requires JavaScript to function properly. 
            Please enable JavaScript in your browser.
        </div>
    </noscript>
    
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p>Loading Live From the Mothership...</p>
        </div>
    </div>

    <!-- Hero Section with Flyer -->
    <header class="hero">
        <div class="hero-background"></div>
        <div class="container">
            <div class="hero-content">
                <!-- Flyer Display -->
                <div class="flyer-display">
                    <div class="flyer-container">
                        <img 
                            src="assets/mothership-flyer.jpg" 
                            alt="Live From the Mothership - The Ultimate Music Battle at Stankonia Studios" 
                            class="flyer-image"
                            loading="eager"
                        >
                    </div>
                </div>
                
                <!-- Hero Info -->
                <div class="hero-info">
                    <h1 class="hero-title">Register as an Artist</h1>
                    <p class="hero-description">
                        Join the ultimate music competition experience hosted by DJ Funky & DJ Big X
                    </p>
                    <div class="hero-details">
                        <div class="detail-item">
                            <span class="icon">üìç</span>
                            <span>Stankonia Studios</span>
                        </div>
                        <div class="detail-item">
                            <span class="icon">üï∞Ô∏è</span>
                            <span>7 PM Sharp</span>
                        </div>
                        <div class="detail-item">
                            <span class="icon">üì∫</span>
                            <span>Live on YouTube</span>
                        </div>
                    </div>
                    <button class="btn btn--primary btn--lg" onclick="scrollToRegistration()">
                        <span class="btn-text">Register Now</span>
                        <span class="btn-icon">üéµ</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Event Details -->
    <section class="event-details">
        <div class="container">
            <h2 class="section-title">Competition Format</h2>
            <div class="phases">
                <div class="phase-card">
                    <div class="phase-number">1</div>
                    <div class="phase-content">
                        <h3 class="phase-title">Drafting the Team</h3>
                        <div class="phase-duration">10 minutes</div>
                        <p class="phase-description">Pick 3 Producers üéπ & 3 Artists üé§</p>
                    </div>
                </div>
                
                <div class="phase-card">
                    <div class="phase-number">2</div>
                    <div class="phase-content">
                        <h3 class="phase-title">Creating the Song</h3>
                        <div class="phase-duration">15 minutes</div>
                        <p class="phase-description">From Beat to Anthem - collaborate live</p>
                    </div>
                </div>
                
                <div class="phase-card">
                    <div class="phase-number">3</div>
                    <div class="phase-content">
                        <h3 class="phase-title">Performing the Song</h3>
                        <div class="phase-duration">5 minutes</div>
                        <p class="phase-description">Bring the record to life on stage</p>
                    </div>
                </div>
            </div>
            
            <div class="judges-section">
                <h3 class="judges-title">Celebrity Judge Panel</h3>
                <p class="judges-description">
                    3 Celebrity Producers üéß providing live feedback, scoring performances, and selecting the winner!
                </p>
            </div>
        </div>
    </section>

    <!-- Registration Form Section -->
    <section class="registration" id="registration">
        <div class="container">
            <div class="registration__header">
                <h2 class="registration__title">Artist Registration</h2>
                <p class="registration__subtitle">
                    Ready to compete? Fill out the form below to secure your spot!
                </p>
                <div class="form-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-text" id="progressText">0% Complete</div>
                </div>
            </div>
            
            <!-- Registration Form -->
            <form id="artistForm" class="registration-form">
                <!-- Artist Information -->
                <div class="form-panel">
                    <h3 class="panel-title">üé§ Artist Information</h3>
                    
                    <div class="form-group">
                        <label for="artistName" class="form-label">Artist Name *</label>
                        <input type="text" id="artistName" name="artistName" class="form-input" required>
                        <div class="error-message" id="artistNameError"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Artist Type *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="artistType" value="solo" required>
                                <span class="radio-button"></span>
                                <span class="radio-text">Solo Artist</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="artistType" value="group" required>
                                <span class="radio-button"></span>
                                <span class="radio-text">Group/Band</span>
                            </label>
                        </div>
                        <div class="error-message" id="artistTypeError"></div>
                    </div>
                </div>
                
                <!-- Contact Information -->
                <div class="form-panel">
                    <h3 class="panel-title">üì± Contact Information</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="email" class="form-label">Email Address *</label>
                            <input type="email" id="email" name="email" class="form-input" required>
                            <div class="error-message" id="emailError"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input type="tel" id="phone" name="phone" class="form-input">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="location" class="form-label">Location/City *</label>
                        <input type="text" id="location" name="location" class="form-input" required placeholder="e.g., Atlanta, GA">
                        <div class="error-message" id="locationError"></div>
                    </div>
                </div>
                
                <!-- Music & Genre -->
                <div class="form-panel">
                    <h3 class="panel-title">üéµ Music & Genre</h3>
                    
                    <div class="form-group">
                        <label class="form-label">Genre(s) * <span class="form-hint">(Select all that apply)</span></label>
                        <div class="checkbox-group">
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="hip-hop">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Hip-Hop</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="rb">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">R&B</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="pop">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Pop</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="rock">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Rock</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="jazz">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Jazz</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="electronic">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Electronic</span>
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" name="genres" value="other">
                                <span class="checkbox-button"></span>
                                <span class="checkbox-text">Other</span>
                            </label>
                        </div>
                        <div class="error-message" id="genresError"></div>
                    </div>
                </div>
                
                <!-- Social Media & Links -->
                <div class="form-panel">
                    <h3 class="panel-title">üîó Social Media & Links</h3>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="instagram" class="form-label">Instagram</label>
                            <input type="text" id="instagram" name="instagram" class="form-input" placeholder="@username">
                        </div>
                        
                        <div class="form-group">
                            <label for="twitter" class="form-label">Twitter/X</label>
                            <input type="text" id="twitter" name="twitter" class="form-input" placeholder="@username">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="youtube" class="form-label">YouTube</label>
                            <input type="url" id="youtube" name="youtube" class="form-input" placeholder="https://youtube.com/...">
                        </div>
                        
                        <div class="form-group">
                            <label for="soundcloud" class="form-label">SoundCloud</label>
                            <input type="url" id="soundcloud" name="soundcloud" class="form-input" placeholder="https://soundcloud.com/...">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="spotify" class="form-label">Spotify Artist Profile</label>
                        <input type="url" id="spotify" name="spotify" class="form-input" placeholder="https://open.spotify.com/artist/...">
                    </div>
                </div>
                
                <!-- Bio -->
                <div class="form-panel">
                    <h3 class="panel-title">‚úçÔ∏è About You</h3>
                    
                    <div class="form-group">
                        <label for="bio" class="form-label">Artist Bio/Story *</label>
                        <textarea id="bio" name="bio" class="form-textarea" rows="4" maxlength="500" 
                                placeholder="Tell us about your music journey, style, and what makes you unique..." required></textarea>
                        <div class="character-counter">
                            <span id="bioCounter">0</span>/500 characters
                        </div>
                        <div class="error-message" id="bioError"></div>
                    </div>
                </div>
                
                <!-- Terms & Privacy -->
                <div class="form-panel">
                    <div class="form-group">
                        <label class="checkbox-option terms-checkbox">
                            <input type="checkbox" id="termsAgreement" name="termsAgreement" required>
                            <span class="checkbox-button"></span>
                            <span class="checkbox-text">
                                I agree to the <a href="#" class="terms-link" onclick="openModal('termsModal')">Terms & Conditions</a> *
                            </span>
                        </label>
                        <div class="error-message" id="termsError"></div>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-option terms-checkbox">
                            <input type="checkbox" id="privacyAgreement" name="privacyAgreement" required>
                            <span class="checkbox-button"></span>
                            <span class="checkbox-text">
                                I agree to the <a href="#" class="terms-link" onclick="openModal('privacyModal')">Privacy Policy</a> *
                            </span>
                        </label>
                        <div class="error-message" id="privacyError"></div>
                    </div>
                </div>
                
                <!-- Submit Button -->
                <div class="form-submit">
                    <button type="submit" class="btn btn--primary btn--xl form-submit-btn">
                        <span class="btn-text">Submit Application</span>
                        <span class="btn-icon">üöÄ</span>
                    </button>
                </div>
            </form>
            
            <!-- Success Message -->
            <div class="success-message" id="successMessage">
                <div class="success-content">
                    <div class="success-icon">üéâ</div>
                    <h3 class="success-title">Application Submitted!</h3>
                    <p class="success-description">
                        Thanks for registering! We'll review your application and get back to you soon.
                        In the meantime, join our community:
                    </p>
                    <div class="success-actions">
                        <button class="btn btn--secondary" onclick="joinDiscord()">
                            <span class="btn-text">Join Discord</span>
                            <span class="btn-icon">üí¨</span>
                        </button>
                        <button class="btn btn--secondary" onclick="followSocial()">
                            <span class="btn-text">Follow Us</span>
                            <span class="btn-icon">üì±</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 class="footer-title">Live From the Mothership</h4>
                    <p class="footer-text">We Don't Just Make Songs‚Ä¶ We Make Movements</p>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Event Info</h4>
                    <p class="footer-text">Stankonia Studios</p>
                    <p class="footer-text">7 PM Sharp</p>
                    <p class="footer-text">Live on YouTube</p>
                </div>
                
                <div class="footer-section">
                    <h4 class="footer-title">Contact</h4>
                    <p class="footer-text">info@mothershiplive.com</p>
                    <p class="footer-text">Follow @MothershipLive</p>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Live From the Mothership. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Privacy Policy</h2>
                <button class="modal-close" onclick="closeModal('privacyModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Privacy policy content loaded from privacy-policy.html -->
                <div id="privacyPolicyContent">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Terms & Conditions Modal -->
    <div id="termsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Terms & Conditions</h2>
                <button class="modal-close" onclick="closeModal('termsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Terms content loaded from terms-conditions.html -->
                <div id="termsContent">Loading...</div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="src/utils/supabase.js"></script>
    <script src="src/components/form-handler.js"></script>
    <script>
        // Initialize app once DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading screen
            setTimeout(() => {
                document.getElementById('loadingScreen').style.display = 'none';
            }, 500);
            
            // Initialize application
            if (typeof initializeApp === 'function') {
                initializeApp();
            }
        });
    </script>
</body>
</html>